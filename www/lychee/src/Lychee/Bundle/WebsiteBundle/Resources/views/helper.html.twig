{% macro timeToString(timestamp) %}
{% spaceless %}
    {% set timeDelta = date().getTimestamp() - timestamp %}
    {% set timeDelta = timeDelta < 0 ? 0 : timeDelta  %}
    {% if timeDelta < 60 %}
        {{ timeDelta }}秒前
    {% elseif timeDelta < 3600 %}
        {{ timeDelta // 60 }}分钟前
    {% elseif timeDelta < 86400 %}
        {{ timeDelta // 3600 }}小时前
    {% elseif timeDelta < 172800 %}
        {{ timeDelta // 86400 }}天前
    {% else %}
        {{ timestamp | date("Y-m-d h:i:s") }}
    {% endif %}
{% endspaceless %}
{% endmacro %}

{% macro numberToString(number) %}
{% spaceless %}
    {% if number < 1000 %}
        {{ number }}
    {% else %}
        {{ number // 1000 }}K
    {% endif %}
{% endspaceless %}
{% endmacro %}